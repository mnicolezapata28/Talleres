# Taller Individual  3
## Reactive Stream 

**Semana**: 9

**Objetivos**:

- Aplicar los conocimientos sobre Reactive Stream.
- Generar y procesar flujos de datos reactivos.



### Descripci√≥n:

Resuelva los siguientes problemas.

### Problema 1
**Sincronizaci√≥n de Sensores**

Descripci√≥n: Simula dos sensores que emiten valores peri√≥dicos:

- Sensor1: Rango [20¬∞C, 30¬∞C], cada 1 segundo.
- Sensor2: Rango [30¬∞C, 40¬∞C], cada 1.5 segundos.
- Usa zip para combinar los valores de ambos sensores en un solo flujo.
- Det√©n el flujo despu√©s de 10 pares de valores.
- Genera una alerta si la diferencia absoluta entre las lecturas de Sensor1 y Sensor2 es mayor a 5¬∞C.
  

```mathematica
Sensor1: 22¬∞C, Sensor2: 27¬∞C, Difference: 5¬∞C
Sensor1: 24¬∞C, Sensor2: 34¬∞C, Difference: 10¬∞C
üö® ALERT! Significant difference detected: 10¬∞C
```scala
package bim2_semana9
import rx.lang.scala.Observable
import scala.util.Random
import scala.concurrent.duration._

object Temperatura extends App  {

    val sensor1 =
      Observable.interval(1.second)
        .map(_ => Random.between(20, 30))

    val sensor2 =
      Observable.interval(1.5.second)
        .map(_ => Random.between(30, 40))

    val combinados =
      sensor1.zip(sensor2)

    combinados
      .take(10)

      .doOnNext { case (s1, s2) =>
        val diff = math.abs(s1 - s2)
        println(s"Sensor1: ${s1}¬∞C, Sensor2: ${s2}¬∞C, Difference: ${diff}¬∞C")


        if (diff > 5)
          println(s" ALERT! Significant difference detected: ${diff}¬∞C\n")
      }

      .subscribe(
        _ => (),
        err => println(s"Error: ${err.getMessage}"),
        () => println("Flujo completado")
      )

    Thread.sleep(20000)
  }
```












### Problema 2
**Sistema de Alerta Complejo**

Descripci√≥n: Simula tres sensores que emiten datos peri√≥dicos:

- Sensor1: Temperatura (20¬∞C a 30¬∞C).
- Sensor2: Humedad (40% a 60%).
- Sensor3: Presi√≥n (950 hPa a 1050 hPa).
- Combina los datos de los tres sensores y detecta si alguna de las m√©tricas est√° fuera de rango.
- Det√©n el flujo despu√©s de 20 combinaciones.

```yaml
Temperature: 22¬∞C, Humidity: 50%, Pressure: 970 hPa
Temperature: 25¬∞C, Humidity: 42%, Pressure: 1055 hPa
üö® ALERT! Pressure out of range: 1055 hPa
...scala
package bim2_semana9

import rx.lang.scala.Observable
import scala.util.Random
import scala.concurrent.duration._

object AlertSystemExample extends App {


  val temperatureSensor =
    Observable.interval(1.second)
      .map(_ => Random.between(20, 31))

  val humiditySensor =
    Observable.interval(1.2.second)
      .map(_ => Random.between(40, 61))


  val pressureSensor =
    Observable.interval(1.5.second)
      .map(_ => Random.between(950, 1051))


  val combinar =
    temperatureSensor.zip(humiditySensor).zip(pressureSensor)
      .map { case ((temp, hum), pres) => (temp, hum, pres) }
      .take(20)

  combinar

    .doOnNext { case (t, h, p) =>
      println(f"Temperature: $t¬∞C, Humidity: $h%%, Pressure: $p hPa")
    }


    .filter { case (t, h, p) =>
      t < 20 || t > 30 || h < 40 || h > 60 || p < 950 || p > 1050
    }


    .map { case (t, h, p) =>
      val reason =
        if (t < 20 || t > 30) s"Temperature out of range: $t¬∞C"
        else if (h < 40 || h > 60) s"Humidity out of range: $h%%"
        else s"Pressure out of range: $p hPa"

      s" ALERT! $reason"
    }


    .subscribe(
      msg  => println(msg),
      err  => println(s"Error: ${err.getMessage}"),
      ()   => println("Monitoring completed!")
    )

  Thread.sleep(30000)
}

```






### Calificaci√≥n:

Para la calificaci√≥n, se debe presentar el trabajo realizado a su tutor. Es necesario recalcar que la presentaci√≥n se hace una √∫nica vez, no existe la posibilidad de presentaciones adicionales con correcciones.

- 10 puntos si presenta en el horario de pr√°cticas y experimentaci√≥n.
- 7 puntos presenta en el horario de tutor√≠a

La hora m√°xima de presentaci√≥n ser√° las 08h30
